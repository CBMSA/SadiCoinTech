<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SadiCoinTech Sports AI Dashboard</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    body { font-family: Arial; margin:0; background:#0f172a; color:#e5e7eb; }
    header { background:#020617; padding:20px; text-align:center; font-size:24px; font-weight:bold; }
    .container { padding:20px; max-width:1200px; margin:auto; }
    .card { background:#020617; border-radius:16px; padding:20px; margin-bottom:20px; }
    input, button { padding:10px; margin:6px 0; border-radius:10px; border:none; width:100%; }
    button { background:#22c55e; color:white; font-weight:bold; cursor:pointer; }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th, td { border:1px solid #334155; padding:8px; text-align:center; }
    canvas { background:white; border-radius:12px; padding:10px; }
    footer { text-align:center; padding:20px; font-size:14px; opacity:0.7; }
  </style>
</head>

<body>

<header>‚öΩüèè SadiCoinTech Sports AI Dashboard</header>

<div class="container">

  <!-- MATCH INPUT -->
  <div class="card">
    <h2>Add Match Record</h2>
    <input id="player" placeholder="Player Name"/>
    <input id="runs" type="number" placeholder="Runs Scored"/>
    <input id="balls" type="number" placeholder="Balls Faced"/>
    <input id="wickets" type="number" placeholder="Wickets Taken"/>
    <input id="overs" type="number" step="0.1" placeholder="Overs Bowled"/>
    <input id="runsConceded" type="number" placeholder="Runs Conceded"/>
    <button onclick="addMatch()">Add Match</button>
  </div>

  <!-- CAREER TABLE -->
  <div class="card">
    <h2>Player Career Statistics</h2>
    <table>
      <thead>
        <tr>
          <th>Player</th>
          <th>Matches</th>
          <th>Total Runs</th>
          <th>Average</th>
          <th>Strike Rate</th>
          <th>Wickets</th>
          <th>Bowling Avg</th>
          <th>Economy</th>
        </tr>
      </thead>
      <tbody id="careerTable"></tbody>
    </table>
  </div>

  <!-- PERFORMANCE CHART -->
  <div class="card">
    <h2>Runs Per Match</h2>
    <canvas id="runsChart"></canvas>
  </div>

  <!-- PDF -->
  <div class="card">
    <button onclick="downloadPDF()">Download Career Report PDF</button>
  </div>

</div>

<footer>¬© SadiCoinTech Sports Intelligence Platform</footer>

<script>
const matches = [];
const career = {};

function addMatch() {
  const player = playerEl.value.trim();
  const runs = Number(runsEl.value);
  const balls = Number(ballsEl.value);
  const wickets = Number(wicketsEl.value);
  const overs = Number(oversEl.value);
  const runsConceded = Number(runsConcededEl.value);

  if (!player) return alert("Enter player name");

  matches.push({ player, runs });

  if (!career[player]) {
    career[player] = {
      matches: 0, runs: 0, balls: 0,
      wickets: 0, overs: 0, runsConceded: 0
    };
  }

  const c = career[player];
  c.matches++;
  c.runs += runs;
  c.balls += balls;
  c.wickets += wickets;
  c.overs += overs;
  c.runsConceded += runsConceded;

  renderCareer();
  renderChart();
}

const playerEl = document.getElementById("player");
const runsEl = document.getElementById("runs");
const ballsEl = document.getElementById("balls");
const wicketsEl = document.getElementById("wickets");
const oversEl = document.getElementById("overs");
const runsConcededEl = document.getElementById("runsConceded");

function renderCareer() {
  const tbody = document.getElementById("careerTable");
  tbody.innerHTML = "";

  Object.keys(career).forEach(name => {
    const c = career[name];

    const avg = c.matches ? (c.runs / c.matches).toFixed(1) : 0;
    const sr = c.balls ? ((c.runs / c.balls) * 100).toFixed(1) : 0;
    const bowlAvg = c.wickets ? (c.runsConceded / c.wickets).toFixed(1) : "-";
    const eco = c.overs ? (c.runsConceded / c.overs).toFixed(2) : 0;

    tbody.innerHTML += `
      <tr>
        <td>${name}</td>
        <td>${c.matches}</td>
        <td>${c.runs}</td>
        <td>${avg}</td>
        <td>${sr}</td>
        <td>${c.wickets}</td>
        <td>${bowlAvg}</td>
        <td>${eco}</td>
      </tr>
    `;
  });
}

let chart;

function renderChart() {
  const ctx = document.getElementById("runsChart");

  if (chart) chart.destroy();

  chart = new Chart(ctx, {
    type: "line",
    data: {
      labels: matches.map((_, i) => "Match " + (i + 1)),
      datasets: [{
        label: "Runs",
        data: matches.map(m => m.runs)
      }]
    }
  });
}

async function downloadPDF() {
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();

  pdf.text("SadiCoinTech Career Report", 20, 20);

  const img = document.getElementById("runsChart").toDataURL("image/png");
  pdf.addImage(img, "PNG", 15, 30, 180, 80);

  pdf.text("¬© SadiCoinTech", 80, 200);

  pdf.save("SadiCoinTech_Career_Report.pdf");
}
</script>

</body>
</html>